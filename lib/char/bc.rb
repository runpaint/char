class Char::BidirectionalCategory
  DEFAULT = 'L'
  @@bc = {"BN"=>[0..8, 14..27, 127..132, 134..159, 173..173, 1807..1807, 8203..8205, 8288..8292, 8298..8303, 65007..65007, 65006..65006, 65005..65005, 65004..65004, 65003..65003, 65002..65002, 65001..65001, 65000..65000, 64999..64999, 64998..64998, 64997..64997, 64996..64996, 64995..64995, 64994..64994, 64993..64993, 64992..64992, 64991..64991, 64990..64990, 64989..64989, 64988..64988, 64987..64987, 64986..64986, 64985..64985, 64984..64984, 64983..64983, 64982..64982, 64981..64981, 64980..64980, 64979..64979, 64978..64978, 64977..64977, 64976..64976, 65279..65279, 65535..65535, 65534..65534, 119155..119162, 131071..131071, 131070..131070, 196607..196607, 196606..196606, 262143..262143, 262142..262142, 327679..327679, 327678..327678, 393215..393215, 393214..393214, 458751..458751, 458750..458750, 524287..524287, 524286..524286, 589823..589823, 589822..589822, 655359..655359, 655358..655358, 720895..720895, 720894..720894, 786431..786431, 786430..786430, 851967..851967, 851966..851966, 917503..917503, 917502..917502, 917505..917505, 917536..917631, 983039..983039, 983038..983038, 1048575..1048575, 1048574..1048574, 1114111..1114111, 1114110..1114110], "S"=>[9..9, 11..11, 31..31], "B"=>[10..10, 13..13, 28..30, 133..133, 8233..8233], "WS"=>[12..12, 32..32, 5760..5760, 6158..6158, 8192..8202, 8232..8232, 8287..8287, 12288..12288], "ON"=>[33..34, 38..42, 59..64, 91..96, 123..126, 161..161, 166..169, 171..172, 174..175, 180..180, 182..184, 187..191, 215..215, 247..247, 697..698, 706..719, 722..735, 741..749, 751..767, 884..885, 894..894, 900..901, 903..903, 1014..1014, 1418..1418, 1542..1543, 1550..1551, 1769..1769, 2038..2041, 3059..3064, 3066..3066, 3192..3198, 3313..3314, 3898..3901, 5008..5017, 5787..5788, 6128..6137, 6144..6154, 6464..6464, 6468..6469, 6622..6655, 8125..8125, 8127..8129, 8141..8143, 8157..8159, 8173..8175, 8189..8190, 8208..8231, 8245..8259, 8261..8286, 8316..8318, 8332..8334, 8448..8449, 8451..8454, 8456..8457, 8468..8468, 8470..8472, 8478..8483, 8485..8485, 8487..8487, 8489..8489, 8506..8507, 8512..8516, 8522..8525, 8531..8543, 8592..8721, 8724..9013, 9083..9108, 9110..9191, 9216..9254, 9280..9290, 9312..9351, 9450..9885, 9888..9899, 9901..9916, 9920..9923, 9985..9988, 9990..9993, 9996..10023, 10025..10059, 10061..10061, 10063..10066, 10070..10070, 10072..10078, 10081..10132, 10136..10159, 10161..10174, 10176..10186, 10188..10188, 10192..10239, 10496..11084, 11088..11092, 11493..11498, 11513..11519, 11776..11824, 11904..11929, 11931..12019, 12032..12245, 12272..12283, 12289..12292, 12296..12320, 12336..12336, 12342..12343, 12349..12351, 12443..12444, 12448..12448, 12539..12539, 12736..12771, 12829..12830, 12880..12895, 12924..12926, 12977..12991, 13004..13007, 13175..13178, 13278..13279, 13311..13311, 19904..19967, 42128..42182, 42509..42511, 42611..42611, 42622..42623, 42752..42785, 42888..42888, 43048..43051, 43124..43127, 64830..64831, 65021..65021, 65040..65049, 65072..65103, 65105..65105, 65108..65108, 65110..65118, 65120..65121, 65124..65126, 65128..65128, 65131..65131, 65281..65282, 65286..65290, 65307..65312, 65339..65344, 65371..65381, 65506..65508, 65512..65518, 65529..65533, 65793..65793, 65856..65930, 65936..65947, 67871..67871, 119296..119361, 119365..119365, 119552..119638, 126976..127019, 127024..127123], "ET"=>[35..37, 162..165, 176..177, 1545..1546, 1642..1642, 2546..2547, 2801..2801, 3065..3065, 3647..3647, 6107..6107, 8240..8244, 8352..8373, 8494..8494, 8723..8723, 65119..65119, 65129..65130, 65283..65285, 65504..65505, 65509..65510], "ES"=>[43..43, 45..45, 8314..8315, 8330..8331, 8722..8722, 64297..64297, 65122..65123, 65291..65291, 65293..65293], "CS"=>[44..44, 46..47, 58..58, 160..160, 1548..1548, 8239..8239, 8260..8260, 65104..65104, 65106..65106, 65109..65109, 65292..65292, 65294..65295, 65306..65306], "EN"=>[48..57, 178..179, 185..185, 1776..1785, 8304..8304, 8308..8313, 8320..8329, 9352..9371, 65296..65305, 120782..120831], "NSM"=>[768..879, 1155..1161, 1425..1469, 1471..1471, 1473..1474, 1476..1477, 1479..1479, 1552..1562, 1611..1630, 1648..1648, 1750..1756, 1758..1764, 1767..1768, 1770..1773, 1809..1809, 1840..1866, 1958..1968, 2027..2035, 2305..2306, 2364..2364, 2369..2376, 2381..2381, 2385..2388, 2402..2403, 2433..2433, 2492..2492, 2497..2500, 2509..2509, 2530..2531, 2561..2562, 2620..2620, 2625..2626, 2631..2632, 2635..2637, 2641..2641, 2672..2673, 2677..2677, 2689..2690, 2748..2748, 2753..2757, 2759..2760, 2765..2765, 2786..2787, 2817..2817, 2876..2876, 2879..2879, 2881..2884, 2893..2893, 2902..2902, 2914..2915, 2946..2946, 3008..3008, 3021..3021, 3134..3136, 3142..3144, 3146..3149, 3157..3158, 3170..3171, 3260..3260, 3276..3277, 3298..3299, 3393..3396, 3405..3405, 3426..3427, 3530..3530, 3538..3540, 3542..3542, 3633..3633, 3636..3642, 3655..3662, 3761..3761, 3764..3769, 3771..3772, 3784..3789, 3864..3865, 3893..3893, 3895..3895, 3897..3897, 3953..3966, 3968..3972, 3974..3975, 3984..3991, 3993..4028, 4038..4038, 4141..4144, 4146..4151, 4153..4154, 4157..4158, 4184..4185, 4190..4192, 4209..4212, 4226..4226, 4229..4230, 4237..4237, 4959..4959, 5906..5908, 5938..5940, 5970..5971, 6002..6003, 6071..6077, 6086..6086, 6089..6099, 6109..6109, 6155..6157, 6313..6313, 6432..6434, 6439..6440, 6450..6450, 6457..6459, 6679..6680, 6912..6915, 6964..6964, 6966..6970, 6972..6972, 6978..6978, 7019..7027, 7040..7041, 7074..7077, 7080..7081, 7212..7219, 7222..7223, 7616..7654, 7678..7679, 8400..8432, 11744..11775, 12330..12335, 12441..12442, 42607..42610, 42620..42621, 43010..43010, 43014..43014, 43019..43019, 43045..43046, 43204..43204, 43302..43309, 43335..43345, 43561..43566, 43569..43570, 43573..43574, 43587..43587, 43596..43596, 64286..64286, 65024..65039, 65056..65062, 66045..66045, 68097..68099, 68101..68102, 68108..68111, 68152..68154, 68159..68159, 119143..119145, 119163..119170, 119173..119179, 119210..119213, 119362..119364, 917760..917999], "R"=>[1470..1470, 1472..1472, 1475..1475, 1478..1478, 1488..1514, 1520..1524, 1984..2026, 2036..2037, 2042..2042, 8207..8207, 64285..64285, 64287..64296, 64298..64310, 64312..64316, 64318..64318, 64320..64321, 64323..64324, 64326..64335, 67584..67589, 67592..67592, 67594..67637, 67639..67640, 67644..67644, 67647..67647, 67840..67865, 67872..67897, 67903..67903, 68096..68096, 68112..68115, 68117..68119, 68121..68147, 68160..68167, 68176..68184], "AN"=>[1536..1539, 1632..1641, 1643..1644, 1757..1757], "AL"=>[1544..1544, 1547..1547, 1549..1549, 1563..1563, 1566..1567, 1569..1610, 1645..1647, 1649..1749, 1765..1766, 1774..1775, 1786..1805, 1808..1808, 1810..1839, 1869..1957, 1969..1969, 64336..64433, 64467..64829, 64848..64911, 64914..64967, 65008..65020, 65136..65140, 65142..65276], "LRE"=>[8234..8234], "RLE"=>[8235..8235], "PDF"=>[8236..8236], "LRO"=>[8237..8237], "RLO"=>[8238..8238]}
  def self.[](codepoint)
    @@bc.each_pair do |cat,ranges|
      return cat if ranges.any?{|rng| rng.include?(codepoint)}
    end
    DEFAULT
  end
end
