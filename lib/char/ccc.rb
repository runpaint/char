class Char::CanonicalCombiningClass
  DEFAULT = 0
  @@ccc = {230=>[768..788, 829..836, 838..838, 842..844, 848..850, 855..855, 859..859, 867..879, 1155..1159, 1426..1429, 1431..1433, 1436..1441, 1448..1449, 1451..1452, 1455..1455, 1476..1476, 1552..1559, 1619..1620, 1623..1627, 1629..1630, 1750..1756, 1759..1762, 1764..1764, 1767..1768, 1771..1772, 1840..1840, 1842..1843, 1845..1846, 1850..1850, 1853..1853, 1855..1857, 1859..1859, 1861..1861, 1863..1863, 1865..1866, 2027..2033, 2035..2035, 2385..2385, 2387..2388, 3970..3971, 3974..3975, 4959..4959, 6109..6109, 6458..6458, 6679..6679, 7019..7019, 7021..7027, 7616..7617, 7619..7625, 7627..7628, 7633..7654, 7678..7678, 8400..8401, 8404..8407, 8411..8412, 8417..8417, 8423..8423, 8425..8425, 8432..8432, 11744..11775, 42607..42607, 42620..42621, 65056..65062, 68111..68111, 68152..68152, 119173..119177, 119210..119213, 119362..119364], 232=>[789..789, 794..794, 856..856, 12332..12332], 220=>[790..793, 796..800, 803..806, 809..819, 825..828, 839..841, 845..846, 851..854, 857..858, 1425..1425, 1430..1430, 1435..1435, 1442..1447, 1450..1450, 1477..1477, 1621..1622, 1628..1628, 1763..1763, 1770..1770, 1773..1773, 1841..1841, 1844..1844, 1847..1849, 1851..1852, 1854..1854, 1858..1858, 1860..1860, 1862..1862, 1864..1864, 2034..2034, 2386..2386, 3864..3865, 3893..3893, 3895..3895, 4038..4038, 4237..4237, 6459..6459, 6680..6680, 7020..7020, 7618..7618, 7626..7626, 7631..7631, 7679..7679, 8424..8424, 8428..8431, 43307..43309, 66045..66045, 68109..68109, 68154..68154, 119163..119170, 119178..119179], 216=>[795..795, 3897..3897, 119141..119142, 119150..119154], 202=>[801..802, 807..808, 7632..7632], 1=>[820..824, 8402..8403, 8408..8410, 8421..8422, 8426..8427, 68153..68153, 119143..119145], 240=>[837..837], 233=>[860..860, 863..863, 866..866], 234=>[861..862, 864..865, 7629..7629], 222=>[1434..1434, 1453..1453, 6457..6457, 12333..12333], 228=>[1454..1454, 6313..6313, 12331..12331], 10=>[1456..1456], 11=>[1457..1457], 12=>[1458..1458], 13=>[1459..1459], 14=>[1460..1460], 15=>[1461..1461], 16=>[1462..1462], 17=>[1463..1463], 18=>[1464..1464, 1479..1479], 19=>[1465..1466], 20=>[1467..1467], 21=>[1468..1468], 22=>[1469..1469], 23=>[1471..1471], 24=>[1473..1473], 25=>[1474..1474], 30=>[1560..1560, 1614..1614], 31=>[1561..1561, 1615..1615], 32=>[1562..1562, 1616..1616], 27=>[1611..1611], 28=>[1612..1612], 29=>[1613..1613], 33=>[1617..1617], 34=>[1618..1618], 35=>[1648..1648], 36=>[1809..1809], 7=>[2364..2364, 2492..2492, 2620..2620, 2748..2748, 2876..2876, 3260..3260, 4151..4151, 6964..6964, 7223..7223], 9=>[2381..2381, 2509..2509, 2637..2637, 2765..2765, 2893..2893, 3021..3021, 3149..3149, 3277..3277, 3405..3405, 3530..3530, 3642..3642, 3972..3972, 4153..4154, 5908..5908, 5940..5940, 6098..6098, 6980..6980, 7082..7082, 43014..43014, 43204..43204, 43347..43347, 68159..68159], 84=>[3157..3157], 91=>[3158..3158], 103=>[3640..3641], 107=>[3656..3659], 118=>[3768..3769], 122=>[3784..3787], 129=>[3953..3953], 130=>[3954..3954, 3962..3965, 3968..3968], 132=>[3956..3956], 214=>[7630..7630], 218=>[12330..12330], 224=>[12334..12335], 8=>[12441..12442], 26=>[64286..64286], 226=>[119149..119149]}
  def self.[](codepoint)
    @@ccc.each_pair do |cc,ranges|
      return cc if ranges.any?{|rng| rng.include?(codepoint)}
    end
    DEFAULT
  end
end
